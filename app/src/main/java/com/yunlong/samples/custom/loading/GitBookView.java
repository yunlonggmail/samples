package com.yunlong.samples.custom.loading;

import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Path;
import android.support.annotation.Nullable;
import android.util.AttributeSet;
import android.view.View;

/**
 * Created by shiyunlong on 2017/8/15.
 */

public class GitBookView extends View {
    public GitBookView(Context context) {
        this(context, null);
    }

    public GitBookView(Context context, @Nullable AttributeSet attrs) {
        this(context, attrs, 0);
    }

    public GitBookView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        init();
    }

    private void init() {
        String path = "M164.072025,217.262237 " +
                "C169.917345,217.262237 174.67264,222.009129 174.67264,227.841541 " +
                "C174.67264,233.671375 169.917345,238.418267 164.072025,238.418267 " +
                "C158.229288,238.418267 153.473993,233.671375 153.473993,227.841541 " +
                "C153.473993,222.009129 158.229288,217.262237 164.072025,217.262237 " +
                "M330.509952,151.736561 " +
                "C324.664632,151.736561 319.909337,146.989669 319.909337,141.157257 " +
                "C319.909337,135.324845 324.664632,130.577953 330.509952,130.577953 " +
                "C336.350106,130.577953 341.105402,135.324845 341.105402,141.157257 " +
                "C341.105402,146.989669 336.350106,151.736561 330.509952,151.736561 " +
                "M330.509952,108.395708 " +
                "C312.413483,108.395708 297.687823,123.095345 297.687823,141.157257 " +
                "C297.687823,144.676816 298.274163,148.178325 299.428762,151.581855 " +
                "L191.012673,209.191747 " +
                "C184.852228,200.332257 174.868948,195.077414 164.072025,195.077414 " +
                "C151.562576,195.077414 140.158649,202.222247 134.641369,213.392012 " +
                "L37.2391749,162.132796 " +
                "C26.951102,156.730982 19.2486081,139.813894 20.0648348,124.415502 " +
                "C20.4884462,116.383688 23.2703328,110.149041 27.5038632,107.740786 " +
                "C30.1927619,106.219512 33.4266729,106.351012 36.8543085,108.1456 " +
                "L37.5052235,108.485953 " +
                "C63.309353,122.058816 147.775904,166.469718 151.330106,168.117335 " +
                "C156.818972,170.651933 159.872074,171.678149 169.219936,167.253561 " +
                "L343.82013,76.6088059 " +
                "C346.377296,75.6444725 349.360657,73.1975412 349.360657,69.4820216 " +
                "C349.360657,64.3251588 344.021604,62.2907765 344.006106,62.2907765 " +
                "C334.079653,57.5387275 318.811564,50.4042078 303.925758,43.4476 " +
                "C272.103248,28.5726294 236.034292,11.7148451 220.195361,3.43550196 " +
                "C206.520981,-3.70933137 195.512252,2.31388431 193.549175,3.53090392 " +
                "L189.736673,5.41573725 " +
                "C118.448568,40.6061686 23.0456121,87.7708353 17.6161547,91.0712275 " +
                "C7.8885919,96.9784137 1.86504534,108.746375 1.08498057,123.358345 " +
                "C-0.131610526,146.520394 11.7062599,170.667404 28.6248834,179.526894 " +
                "L131.619264,232.549757 " +
                "C133.938794,248.590178 147.770738,260.60309 164.072025,260.60309 " +
                "C182.0006,260.60309 196.620357,246.174188 196.888989,228.339178 " +
                "L310.323839,166.972512 " +
                "C316.076171,171.458982 323.20524,173.918806 330.509952,173.918806 " +
                "C348.603839,173.918806 363.329499,159.221747 363.329499,141.157257 " +
                "C363.329499,123.095345 348.603839,108.395708 330.509952,108.395708";
//        id="Fill-1" fill="#3681FC"></path>
    }

    @Override
    protected void onDraw(Canvas canvas) {
        Path path = new Path();


        moveTo(path, 164.072025, 217.262237);
        cubicTo(path, 169.917345, 217.262237, 174.67264, 222.009129, 174.67264, 227.841541);
        cubicTo(path, 174.67264, 233.671375, 169.917345, 238.418267, 164.072025, 238.418267);
        cubicTo(path, 158.229288, 238.418267, 153.473993, 233.671375, 153.473993, 227.841541);
        cubicTo(path, 153.473993, 222.009129, 158.229288, 217.262237, 164.072025, 217.262237);
        moveTo(path, 330.509952, 151.736561);
        cubicTo(path, 324.664632, 151.736561, 319.909337, 146.989669, 319.909337, 141.157257);
        cubicTo(path, 319.909337, 135.324845, 324.664632, 130.577953, 330.509952, 130.577953);
        cubicTo(path, 336.350106, 130.577953, 341.105402, 135.324845, 341.105402, 141.157257);
        cubicTo(path, 341.105402, 146.989669, 336.350106, 151.736561, 330.509952, 151.736561);
        moveTo(path, 330.509952, 108.395708);
        cubicTo(path, 312.413483, 108.395708, 297.687823, 123.095345, 297.687823, 141.157257);
        cubicTo(path, 297.687823, 144.676816, 298.274163, 148.178325, 299.428762, 151.581855);
        lineTo(path, 191.012673, 209.191747);
        cubicTo(path, 184.852228, 200.332257, 174.868948, 195.077414, 164.072025, 195.077414);
        cubicTo(path, 151.562576, 195.077414, 140.158649, 202.222247, 134.641369, 213.392012);
        lineTo(path, 37.2391749, 162.132796);
        cubicTo(path, 26.951102, 156.730982, 19.2486081, 139.813894, 20.0648348, 124.415502);
        cubicTo(path, 20.4884462, 116.383688, 23.2703328, 110.149041, 27.5038632, 107.740786);
        cubicTo(path, 30.1927619, 106.219512, 33.4266729, 106.351012, 36.8543085, 108.1456);
        lineTo(path, 37.5052235, 108.485953);
        cubicTo(path, 63.309353, 122.058816, 147.775904, 166.469718, 151.330106, 168.117335);
        cubicTo(path, 156.818972, 170.651933, 159.872074, 171.678149, 169.219936, 167.253561);
        lineTo(path, 343.82013, 76.6088059);
        cubicTo(path, 346.377296, 75.6444725, 349.360657, 73.1975412, 349.360657, 69.4820216);
        cubicTo(path, 349.360657, 64.3251588, 344.021604, 62.2907765, 344.006106, 62.2907765);
        cubicTo(path, 334.079653, 57.5387275, 318.811564, 50.4042078, 303.925758, 43.4476);
        cubicTo(path, 272.103248, 28.5726294, 236.034292, 11.7148451, 220.195361, 3.43550196);
        cubicTo(path, 206.520981, -3.70933137, 195.512252, 2.31388431, 193.549175, 3.53090392);
        lineTo(path, 189.736673, 5.41573725);
        cubicTo(path, 118.448568, 40.6061686, 23.0456121, 87.7708353, 17.6161547, 91.0712275);
        cubicTo(path, 7.8885919, 96.9784137, 1.86504534, 108.746375, 1.08498057, 123.358345);
        cubicTo(path, -0.131610526, 146.520394, 11.7062599, 170.667404, 28.6248834, 179.526894);
        lineTo(path, 131.619264, 232.549757);
        cubicTo(path, 133.938794, 248.590178, 147.770738, 260.60309, 164.072025, 260.60309);
        cubicTo(path, 182.0006, 260.60309, 196.620357, 246.174188, 196.888989, 228.339178);
        lineTo(path, 310.323839, 166.972512);
        cubicTo(path, 316.076171, 171.458982, 323.20524, 173.918806, 330.509952, 173.918806);
        cubicTo(path, 348.603839, 173.918806, 363.329499, 159.221747, 363.329499, 141.157257);
        cubicTo(path, 363.329499, 123.095345, 348.603839, 108.395708, 330.509952, 108.395708);
//        path.close();


        Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
        paint.setStyle(Paint.Style.FILL);
        paint.setColor(Color.BLUE);

        canvas.drawPath(path, paint);
    }

    private void moveTo(Path path, double a, double b) {
        path.moveTo((float) a * 0.5f + 200f, (float) b * 0.5f + 100f);
    }

    private void cubicTo(Path path, double a, double b, double c, double d, double e, double f) {
        path.cubicTo((float) a * 0.5f + 200f, (float) b * 0.5f + 100f, (float) c * 0.5f + 200f, (float) d * 0.5f + 100f, (float) e * 0.5f + 200f, (float) f * 0.5f + 100f);
    }

    private void lineTo(Path path, double a, double b) {
        path.lineTo((float) a * 0.5f + 200f, (float) b * 0.5f + 100f);
    }


}
